{"version":3,"sources":["../../../../app/_components/AppClient.tsx/__nextjs-internal-proxy.mjs","../../../../app/_components/StockAnalyticsPage.tsx","../../../../app/_lib/stocks.ts","../../../../app/app/stocks/%5Bsymbol%5D/page.tsx"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/app/_components/AppClient.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/app/_components/AppClient.tsx\",\n    \"default\",\n);\n","import AppClient from './AppClient';\nimport { fetchStockData } from '../_lib/stocks';\nimport type { StockData } from '../_lib/types';\n\nexport default async function StockAnalyticsPage({\n  companyId,\n  date,\n  view,\n}: {\n  companyId: string;\n  date: string;\n  view: 'intraday' | 'historical';\n}) {\n  let initialStockData: StockData[] | undefined;\n  let initialLastFetchTime: number | null = null;\n  const shouldSkipServerFetch = process.env.SKIP_SERVER_STOCKS_FETCH === 'true';\n\n  if (!shouldSkipServerFetch) {\n    try {\n      initialStockData = await fetchStockData(companyId, date, view);\n      initialLastFetchTime = Date.now();\n    } catch {\n      initialStockData = undefined;\n      initialLastFetchTime = null;\n    }\n  }\n\n  return (\n    <AppClient\n      initialCompanyId={companyId}\n      initialDate={date}\n      initialStockData={initialStockData}\n      initialLastFetchTime={initialLastFetchTime}\n      initialView={view}\n    />\n  );\n}\n","import type { StockData } from './types';\n\nconst defaultBaseUrl = 'http://localhost:8080/api';\n\nexport async function fetchStockData(\n  companyId: string,\n  date: string,\n  view: 'intraday' | 'historical' = 'intraday',\n): Promise<StockData[]> {\n  const baseUrl = (\n    process.env.STOCKS_API_BASE_URL ||\n    process.env.NEXT_PUBLIC_API_BASE_URL ||\n    defaultBaseUrl\n  ).replace(/\\/$/, '');\n  const apiUrl = `${baseUrl}/stocks/${encodeURIComponent(companyId)}?date=${encodeURIComponent(date)}&view=${encodeURIComponent(view)}`;\n\n  const response = await fetch(apiUrl, { next: { revalidate: 10 } });\n  if (!response.ok) {\n    throw new Error('Failed to fetch stocks');\n  }\n\n  return response.json();\n}\n","import StockAnalyticsPage from '../../../_components/StockAnalyticsPage';\n\nexport const revalidate = 10;\n\nexport async function generateMetadata({\n  params,\n}: {\n  params: Promise<{ symbol: string }>;\n}) {\n  const { symbol } = await params;\n  const decodedSymbol = decodeURIComponent(symbol).toUpperCase();\n  return {\n    title: `${decodedSymbol} Analytics | MarketPulse`,\n    description: `Live analytics for ${decodedSymbol} including SMA, EMA, and RSI signals.`,\n    openGraph: {\n      title: `${decodedSymbol} Analytics | MarketPulse`,\n      description: `Live analytics for ${decodedSymbol} including SMA, EMA, and RSI signals.`,\n      type: 'website',\n    },\n  };\n}\n\nexport default async function AppStockPage({\n  params,\n  searchParams,\n}: {\n  params: Promise<{ symbol: string }>;\n  searchParams?: Promise<{ date?: string; view?: string }>;\n}) {\n  const [{ symbol }, resolvedSearchParams] = await Promise.all([\n    params,\n    searchParams,\n  ]);\n  const companyId = decodeURIComponent(symbol).toUpperCase();\n  const date = resolvedSearchParams?.date ?? new Date().toISOString().slice(0, 10);\n  const view = (resolvedSearchParams?.view ?? 'intraday') as 'intraday' | 'historical';\n\n  return <StockAnalyticsPage companyId={companyId} date={date} view={view} />;\n}\n"],"names":[],"mappings":"6XAEe,CAAA,EAAA,AADf,EAAA,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,+RAAiS,EAC9T,8DACA,gEAHW,CAAA,EADf,AACe,EADf,CAAA,CAAA,OACe,uBAAA,AAAuB,EAClC,WAAa,MAAM,AAAI,MAAM,2QAA6Q,EAC1S,0CACA,8GCLJ,EAAA,EAAA,CAAA,CAAA,OCIO,eAAe,EACpB,CAAiB,CACjB,CAAY,CACZ,EAAkC,UAAU,EAE5C,IAAM,EAAU,CACd,QAAQ,GAAG,CAAC,mBAAmB,EAC/B,QAAQ,GAAG,CAAC,wBAAwB,EATjB,EAUnB,yBAAA,CACF,CAAE,OAAO,CAAC,MAAO,IACX,EAAS,CAAA,EAAG,EAAQ,QAAQ,EAAE,mBAAmB,GAAW,MAAM,EAAE,mBAAmB,GAAM,MAAM,EAAE,mBAAmB,GAAA,CAAO,CAE/H,EAAW,MAAM,MAAM,EAAQ,CAAE,KAAM,CAAE,WAAY,EAAG,CAAE,GAChE,GAAI,CAAC,EAAS,EAAE,CACd,CADgB,KACV,AAAI,MAAM,0BAGlB,OAAO,EAAS,IAAI,EACtB,CDlBe,eAAe,EAAmB,WAC/C,CAAS,MACT,CAAI,MACJ,CAAI,CAKL,EAEC,IADI,EACA,EAAsC,KAG1C,GAF8B,AAAyC,CAEnE,CAAC,eAFiC,GAAG,CAAC,IAEd,oBAFsC,CAGhE,GAAI,CACF,EAAmB,MAAM,EAAe,EAAW,EAAM,GACzD,EAAuB,KAAK,GAAG,EACjC,CAAE,KAAM,CACN,OAAmB,EACnB,EAAuB,IACzB,CAGF,MACE,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAS,CAAA,CACR,iBAAkB,EAClB,YAAa,EACb,iBAAkB,EAClB,qBAAsB,EACtB,YAAa,GAGnB,sEEpCA,EAAA,EAAA,CAAA,CAAA,OAIO,eAAe,EAAiB,QACrC,CAAM,CAGP,EACC,GAAM,QAAE,CAAM,CAAE,CAAG,MAAM,EACnB,EAAgB,mBAAmB,GAAQ,WAAW,GAC5D,MAAO,CACL,MAAO,CAAA,EAAG,EAAc,wBAAwB,CAAC,CACjD,YAAa,CAAC,mBAAmB,EAAE,EAAc,qCAAqC,CAAC,CACvF,UAAW,CACT,MAAO,CAAA,EAAG,EAAc,wBAAwB,CAAC,CACjD,YAAa,CAAC,mBAAmB,EAAE,EAAc,qCAAqC,CAAC,CACvF,KAAM,SACR,CACF,CACF,CAEe,eAAe,EAAa,QACzC,CAAM,cACN,CAAY,CAIb,EACC,GAAM,CAAC,QAAE,CAAM,CAAE,CAAE,EAAqB,CAAG,MAAM,QAAQ,GAAG,CAAC,CAC3D,EACA,EACD,EACK,EAAY,mBAAmB,GAAQ,WAAW,GAClD,EAAO,GAAsB,MAAQ,IAAI,OAAO,WAAW,GAAG,KAAK,CAAC,EAAG,IACvE,EAAQ,GAAsB,MAAQ,WAE5C,MAAO,CAAA,EAAA,EAAA,GAAA,EAAC,EAAA,OAAkB,CAAA,CAAC,UAAW,EAAW,KAAM,EAAM,KAAM,GACrE,8DApC0B","ignoreList":[0]}