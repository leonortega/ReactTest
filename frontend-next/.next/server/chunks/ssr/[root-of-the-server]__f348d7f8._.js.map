{"version":3,"sources":["../../../../app/app/alerts/page.tsx"],"sourcesContent":["import { createAlert } from '../../_actions/alerts';\nimport { readStore } from '../../_lib/storage';\nimport type { Alert, Notification } from '../../_lib/types';\n\nexport default async function AlertsPage() {\n  const alertsStore = await readStore<{ items: Alert[] }>('alerts.json', { items: [] });\n  const notificationsStore = await readStore<{ items: Notification[] }>('notifications.json', {\n    items: [],\n  });\n\n  return (\n    <div className=\"grid gap-6\">\n      <section className=\"rounded-lg border border-slate-200 bg-white p-6 shadow-sm\">\n        <h2 className=\"text-lg font-semibold\">Create alert</h2>\n        <form action={createAlert} className=\"mt-4 grid gap-3 md:grid-cols-4\">\n          <input name=\"symbol\" placeholder=\"Symbol\" className=\"input-base\" required />\n          <input\n            name=\"threshold\"\n            type=\"number\"\n            step=\"0.01\"\n            placeholder=\"Threshold\"\n            className=\"input-base\"\n            required\n          />\n          <select name=\"direction\" className=\"input-base\">\n            <option value=\"above\">Above</option>\n            <option value=\"below\">Below</option>\n          </select>\n          <select name=\"schedule\" className=\"input-base\">\n            <option value=\"realtime\">Realtime</option>\n            <option value=\"daily\">Daily</option>\n            <option value=\"weekly\">Weekly</option>\n          </select>\n          <button className=\"btn-primary md:col-span-4\" type=\"submit\">\n            Save alert\n          </button>\n        </form>\n      </section>\n\n      <section className=\"rounded-lg border border-slate-200 bg-white p-6 shadow-sm\">\n        <h2 className=\"text-lg font-semibold\">Active alerts</h2>\n        {alertsStore.items.length === 0 ? (\n          <p className=\"mt-3 text-sm text-slate-600\">No alerts configured.</p>\n        ) : (\n          <ul className=\"mt-4 grid gap-3\">\n            {alertsStore.items.map((alert) => (\n              <li key={alert.id} className=\"rounded-lg border border-slate-200 bg-slate-50 p-4\">\n                <div className=\"text-sm text-slate-500\">\n                  {new Date(alert.createdAt).toLocaleString()}\n                </div>\n                <div className=\"text-lg font-semibold\">\n                  {alert.symbol} {alert.direction} {alert.threshold}\n                </div>\n                <div className=\"text-sm text-slate-600\">Schedule: {alert.schedule}</div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n\n      <section className=\"rounded-lg border border-slate-200 bg-white p-6 shadow-sm\">\n        <h2 className=\"text-lg font-semibold\">Notifications</h2>\n        {notificationsStore.items.length === 0 ? (\n          <p className=\"mt-3 text-sm text-slate-600\">No notifications yet.</p>\n        ) : (\n          <ul className=\"mt-4 grid gap-3\">\n            {notificationsStore.items.slice(0, 5).map((note) => (\n              <li key={note.id} className=\"rounded-lg border border-slate-200 bg-slate-50 p-4\">\n                <div className=\"text-xs uppercase text-slate-500\">{note.channel}</div>\n                <div className=\"text-sm text-slate-700\">{note.message}</div>\n              </li>\n            ))}\n          </ul>\n        )}\n      </section>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}